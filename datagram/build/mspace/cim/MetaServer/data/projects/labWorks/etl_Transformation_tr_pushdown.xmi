<?xml version="1.0" encoding="ASCII"?>
<etl:Transformation xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:etl="http://www.neoflex.ru/meta/etl" name="tr_pushdown" label="tr_pushdown" sparkVersion="SPARK3" description="&#x424;&#x43e;&#x440;&#x43c;&#x438;&#x440;&#x43e;&#x432;&#x430;&#x43d;&#x438;&#x435; &#x442;&#x430;&#x431;&#x43b;&#x438;&#x446;&#x44b; &#x444;&#x430;&#x43a;&#x442;&#x43e;&#x432; &#x43f;&#x43e;&#x432;&#x44b;&#x448;&#x435;&#x43d;&#x438;&#x44f; &#x417;&#x41f; &#x437;&#x430; &#x43f;&#x440;&#x435;&#x434;&#x44b;&#x434;&#x443;&#x449;&#x438;&#x439; &#x433;&#x43e;&#x434;" jsonView="{&quot;cells&quot;:[{&quot;type&quot;:&quot;devs.transformation.SqlSource&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:60,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;6dba556e-88f7-4320-b330-321516789f47&quot;,&quot;name&quot;:&quot;humanresources&quot;,&quot;z&quot;:1,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;humanresources&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Selection&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:210,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;187d830e-70c5-42a1-be4a-6bd769a0312d&quot;,&quot;name&quot;:&quot;yearGreaterThen2006&quot;,&quot;z&quot;:2,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;yearGreaterThen2006&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Selection&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:360,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;aff07130-dbf8-4249-ab08-e37a111076fa&quot;,&quot;name&quot;:&quot;yearLessThen2012&quot;,&quot;z&quot;:3,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;yearLessThen2012&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Aggregation&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:600,&quot;y&quot;:150},&quot;angle&quot;:0,&quot;id&quot;:&quot;5be2bc73-3d73-432f-a744-59e931b16cfd&quot;,&quot;name&quot;:&quot;countRow&quot;,&quot;z&quot;:4,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;countRow&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Projection&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:510,&quot;y&quot;:360},&quot;angle&quot;:0,&quot;id&quot;:&quot;0cd68a61-2b7c-4d86-a83a-dff1aae21a77&quot;,&quot;name&quot;:&quot;rateInterval&quot;,&quot;z&quot;:5,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;rateInterval&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Aggregation&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:660,&quot;y&quot;:360},&quot;angle&quot;:0,&quot;id&quot;:&quot;a03b2c42-2fe3-4bf3-8ad8-982015ccf029&quot;,&quot;name&quot;:&quot;countRateInterval&quot;,&quot;z&quot;:6,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;countRateInterval&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Join&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;,&quot;join&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;join&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;join&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:810,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;d3b40049-af3b-47c3-8a4e-dfe19d875828&quot;,&quot;name&quot;:&quot;fullJoin&quot;,&quot;z&quot;:7,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;fullJoin&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Projection&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[&quot;out&quot;],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}},{&quot;id&quot;:&quot;out&quot;,&quot;group&quot;:&quot;out&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;out&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:960,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;518ca83e-f5b2-4f5e-9f7d-69548cb2fc76&quot;,&quot;name&quot;:&quot;percent&quot;,&quot;z&quot;:8,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;percent&quot;}}},{&quot;type&quot;:&quot;devs.transformation.CSVTarget&quot;,&quot;size&quot;:{&quot;width&quot;:80,&quot;height&quot;:80},&quot;inPorts&quot;:[&quot;in&quot;],&quot;outPorts&quot;:[],&quot;ports&quot;:{&quot;groups&quot;:{&quot;in&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;white&quot;,&quot;magnet&quot;:&quot;passive&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;left&quot;,&quot;args&quot;:{&quot;y&quot;:10}}}},&quot;out&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;},&quot;label&quot;:{&quot;position&quot;:{&quot;name&quot;:&quot;right&quot;,&quot;args&quot;:{&quot;y&quot;:10}}},&quot;attrs&quot;:{&quot;.port-body&quot;:{&quot;fill&quot;:&quot;#4d4d4dde&quot;,&quot;stroke&quot;:&quot;#000&quot;,&quot;r&quot;:10,&quot;magnet&quot;:true},&quot;.port-label&quot;:{&quot;text&quot;:&quot;&quot;,&quot;visibility&quot;:&quot;hidden&quot;,&quot;fill&quot;:&quot;#000&quot;},&quot;circle&quot;:{&quot;r&quot;:7,&quot;stroke&quot;:&quot;#4d4d4dde&quot;,&quot;stroke-width&quot;:1}}}},&quot;items&quot;:[{&quot;id&quot;:&quot;in&quot;,&quot;group&quot;:&quot;in&quot;,&quot;attrs&quot;:{&quot;.port-label&quot;:{&quot;text&quot;:&quot;in&quot;}}}]},&quot;position&quot;:{&quot;x&quot;:1110,&quot;y&quot;:270},&quot;angle&quot;:0,&quot;id&quot;:&quot;d2d828ca-e73c-43fa-b1ca-5dd133415196&quot;,&quot;name&quot;:&quot;histogram&quot;,&quot;z&quot;:9,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;histogram&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;6dba556e-88f7-4320-b330-321516789f47&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;187d830e-70c5-42a1-be4a-6bd769a0312d&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;8e495023-2316-4b7c-8a53-b0e339c26517&quot;,&quot;z&quot;:10,&quot;name&quot;:&quot;f8f1f6e5-75de-40ff-bd8a-ac405a3705b5&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;f8f1f6e5-75de-40ff-bd8a-ac405a3705b5&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;187d830e-70c5-42a1-be4a-6bd769a0312d&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;aff07130-dbf8-4249-ab08-e37a111076fa&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;9bbb0941-1c25-44ff-afa4-3bc41af7d90d&quot;,&quot;z&quot;:11,&quot;name&quot;:&quot;46097e46-1dd4-4151-b625-bbcc87ee0bce&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;46097e46-1dd4-4151-b625-bbcc87ee0bce&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;aff07130-dbf8-4249-ab08-e37a111076fa&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;5be2bc73-3d73-432f-a744-59e931b16cfd&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;710b3cfc-0276-403c-b364-838b6a4d5b06&quot;,&quot;z&quot;:12,&quot;name&quot;:&quot;17f8e7f9-0f7b-4ead-97fc-4d9ba565eb6d&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;17f8e7f9-0f7b-4ead-97fc-4d9ba565eb6d&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;aff07130-dbf8-4249-ab08-e37a111076fa&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;0cd68a61-2b7c-4d86-a83a-dff1aae21a77&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;a884cbbf-fdb7-4eb8-9c48-4986555d606b&quot;,&quot;z&quot;:13,&quot;name&quot;:&quot;89c90867-3d97-4625-8033-e9b4da029ca7&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;89c90867-3d97-4625-8033-e9b4da029ca7&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;0cd68a61-2b7c-4d86-a83a-dff1aae21a77&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;a03b2c42-2fe3-4bf3-8ad8-982015ccf029&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;e8f79080-262f-4376-aabd-c31bed106437&quot;,&quot;z&quot;:14,&quot;name&quot;:&quot;051965b7-01a8-46c8-a4c7-74900c9138b9&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;051965b7-01a8-46c8-a4c7-74900c9138b9&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;5be2bc73-3d73-432f-a744-59e931b16cfd&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;d3b40049-af3b-47c3-8a4e-dfe19d875828&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;a193124d-7afa-42d6-ba78-87a320b58f9d&quot;,&quot;z&quot;:15,&quot;name&quot;:&quot;5fde34d4-af08-40e1-aad0-775572832994&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;5fde34d4-af08-40e1-aad0-775572832994&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;a03b2c42-2fe3-4bf3-8ad8-982015ccf029&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;d3b40049-af3b-47c3-8a4e-dfe19d875828&quot;,&quot;port&quot;:&quot;join&quot;},&quot;id&quot;:&quot;5d26b370-3ccb-4bc6-84db-7ef6754cf46c&quot;,&quot;z&quot;:16,&quot;name&quot;:&quot;19edbe61-6d38-426b-9c48-dc7a74cf4376&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;19edbe61-6d38-426b-9c48-dc7a74cf4376&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;d3b40049-af3b-47c3-8a4e-dfe19d875828&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;518ca83e-f5b2-4f5e-9f7d-69548cb2fc76&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;f367a96a-ef58-4495-af41-6514abdc1f85&quot;,&quot;z&quot;:17,&quot;name&quot;:&quot;f6315fac-59a8-4ece-928e-bd993147f3da&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;f6315fac-59a8-4ece-928e-bd993147f3da&quot;}}},{&quot;type&quot;:&quot;devs.transformation.Flow&quot;,&quot;source&quot;:{&quot;id&quot;:&quot;518ca83e-f5b2-4f5e-9f7d-69548cb2fc76&quot;,&quot;port&quot;:&quot;out&quot;},&quot;target&quot;:{&quot;id&quot;:&quot;d2d828ca-e73c-43fa-b1ca-5dd133415196&quot;,&quot;port&quot;:&quot;in&quot;},&quot;id&quot;:&quot;97058c54-4a9e-4e3c-9349-e8173e070d70&quot;,&quot;z&quot;:18,&quot;name&quot;:&quot;aead6cbf-f4ad-4f04-9c3b-7ced95a2debc&quot;,&quot;attrs&quot;:{&quot;.label&quot;:{&quot;text&quot;:&quot;aead6cbf-f4ad-4f04-9c3b-7ced95a2debc&quot;}}}]}">
  <targets xsi:type="etl:CSVTarget" name="histogram" label="histogram" csvFormat="EXCEL" path="/tmp/salary/histogram.xls" header="true" quote="&quot;" escape="\">
    <inputPort name="CSV_16in">
      <fields name="countRow" dataTypeDomain="DECIMAL"/>
      <fields name="rateInterval" dataTypeDomain="STRING"/>
      <fields name="countRateInterval" dataTypeDomain="DECIMAL"/>
      <fields name="percent" dataTypeDomain="DECIMAL"/>
    </inputPort>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="countRow" targetColumnName="countRow"/>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="rateInterval" targetColumnName="rateInterval"/>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="countRateInterval" targetColumnName="countRateInterval"/>
    <inputFieldsMapping xsi:type="etl:TableTargetFeature" inputFieldName="percent" targetColumnName="percent"/>
  </targets>
  <transformationSteps xsi:type="etl:Selection" name="yearGreaterThen2006" label="yearGreaterThen2006" expression="months_between(cast('2007-01-01' as date), ratechangedate, true) &lt; 0">
    <outputPort name="Selection_1out">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </outputPort>
    <inputPort name="Selection_1in">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </inputPort>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Selection" name="yearLessThen2012" label="yearLessThen2012" checkpoint="true" expression="months_between(cast('2012-12-31' as date), ratechangedate, true) > 0">
    <outputPort name="Selection_3out">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </outputPort>
    <inputPort name="Selection_3in">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </inputPort>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Aggregation" name="countRow" label="countRow">
    <outputPort name="Aggregation_5out">
      <fields name="countRow" dataTypeDomain="DECIMAL"/>
    </outputPort>
    <inputPort name="Aggregation_5in">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </inputPort>
    <aggregationParameters resultFieldName="countRow" fieldName="rate" aggregationFunction="COUNT"/>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Projection" name="rateInterval" label="rateInterval">
    <outputPort name="Projection_7out">
      <fields xsi:type="etl:ProjectionField" name="rate" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.3/@inputPort/@fields.0"/>
      <fields xsi:type="etl:ProjectionField" name="ratechangedate" dataTypeDomain="DATETIME" sourceFields="//@transformationSteps.3/@inputPort/@fields.1"/>
      <fields xsi:type="etl:ProjectionField" name="rateInterval" dataTypeDomain="STRING" sourceFields="//@transformationSteps.3/@inputPort/@fields.0" expression="CASE &#xD;&#xA;   WHEN rate > 0 AND rate &lt;= 5 THEN '0-5'&#xD;&#xA;   WHEN rate > 5 AND rate &lt;= 10 THEN '6-10'&#xD;&#xA;&#xD;&#xA;   WHEN rate > 10 AND rate &lt;= 15 THEN '11-15'&#xD;&#xA;   WHEN rate > 15 AND rate &lt;= 20 THEN '16-20'&#xD;&#xA;&#xD;&#xA;   WHEN rate > 20 AND rate &lt;= 25 THEN '21-25'&#xD;&#xA;   WHEN rate > 25 AND rate &lt;= 30 THEN '26-30'&#xD;&#xA;&#xD;&#xA;   WHEN rate > 30 AND rate &lt;= 35 THEN '31-35'&#xD;&#xA;   WHEN rate > 35 AND rate &lt;= 40 THEN '36-40'&#xD;&#xA;&#xD;&#xA;   WHEN rate > 40 AND rate &lt;= 45 THEN '41-45'&#xD;&#xA;   WHEN rate > 45 AND rate &lt;= 50 THEN '46-50'&#xD;&#xA;&#xD;&#xA;   ELSE '50+'&#xD;&#xA;END" fieldOperationType="SQL"/>
    </outputPort>
    <inputPort name="Projection_7in">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </inputPort>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Aggregation" name="countRateInterval" label="countRateInterval">
    <outputPort name="Aggregation_9out">
      <fields name="rateInterval" dataTypeDomain="STRING"/>
      <fields name="countRateInterval" dataTypeDomain="DECIMAL"/>
    </outputPort>
    <inputPort name="Aggregation_9in">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
      <fields name="rateInterval" dataTypeDomain="STRING"/>
    </inputPort>
    <groupByFieldName>rateInterval</groupByFieldName>
    <aggregationParameters resultFieldName="countRateInterval" fieldName="rateInterval" aggregationFunction="COUNT"/>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Join" name="fullJoin" label="fullJoin" joinType="FULL">
    <outputPort name="Join_11out">
      <fields xsi:type="etl:ProjectionField" name="countRow" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.5/@inputPort/@fields.0"/>
      <fields xsi:type="etl:ProjectionField" name="rateInterval" dataTypeDomain="STRING" sourceFields="//@transformationSteps.5/@joineePort/@fields.0"/>
      <fields xsi:type="etl:ProjectionField" name="countRateInterval" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.5/@joineePort/@fields.1"/>
    </outputPort>
    <inputPort name="Join_11in">
      <fields name="countRow" dataTypeDomain="DECIMAL"/>
    </inputPort>
    <joineePort name="Join_11join">
      <fields name="rateInterval" dataTypeDomain="STRING"/>
      <fields name="countRateInterval" dataTypeDomain="DECIMAL"/>
    </joineePort>
  </transformationSteps>
  <transformationSteps xsi:type="etl:Projection" name="percent" label="percent">
    <outputPort name="Projection_14out">
      <fields xsi:type="etl:ProjectionField" name="countRow" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.6/@inputPort/@fields.0"/>
      <fields xsi:type="etl:ProjectionField" name="rateInterval" dataTypeDomain="STRING" sourceFields="//@transformationSteps.6/@inputPort/@fields.1"/>
      <fields xsi:type="etl:ProjectionField" name="countRateInterval" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.6/@inputPort/@fields.2"/>
      <fields xsi:type="etl:ProjectionField" name="percent" dataTypeDomain="DECIMAL" sourceFields="//@transformationSteps.6/@inputPort/@fields.2 //@transformationSteps.6/@inputPort/@fields.0" expression="cast(countRateInterval * 100.00 / countRow as decimal(5,2))" fieldOperationType="SQL"/>
    </outputPort>
    <inputPort name="Projection_14in">
      <fields name="countRow" dataTypeDomain="DECIMAL"/>
      <fields name="rateInterval" dataTypeDomain="STRING"/>
      <fields name="countRateInterval" dataTypeDomain="DECIMAL"/>
    </inputPort>
  </transformationSteps>
  <sources xsi:type="etl:SQLSource" name="humanresources" label="humanresources" statement="select&#xA;&#x9;rate,&#xA;&#x9;ratechangedate&#xA;from humanresources.employeepayhistory">
    <outputPort name="SQL_0out">
      <fields name="rate" dataTypeDomain="DECIMAL"/>
      <fields name="ratechangedate" dataTypeDomain="DATETIME"/>
    </outputPort>
  </sources>
  <transitions name="f8f1f6e5-75de-40ff-bd8a-ac405a3705b5" start="//@sources.0/@outputPort" finish="//@transformationSteps.0/@inputPort"/>
  <transitions name="46097e46-1dd4-4151-b625-bbcc87ee0bce" start="//@transformationSteps.0/@outputPort" finish="//@transformationSteps.1/@inputPort"/>
  <transitions name="17f8e7f9-0f7b-4ead-97fc-4d9ba565eb6d" start="//@transformationSteps.1/@outputPort" finish="//@transformationSteps.2/@inputPort"/>
  <transitions name="89c90867-3d97-4625-8033-e9b4da029ca7" start="//@transformationSteps.1/@outputPort" finish="//@transformationSteps.3/@inputPort"/>
  <transitions name="051965b7-01a8-46c8-a4c7-74900c9138b9" start="//@transformationSteps.3/@outputPort" finish="//@transformationSteps.4/@inputPort"/>
  <transitions name="5fde34d4-af08-40e1-aad0-775572832994" start="//@transformationSteps.2/@outputPort" finish="//@transformationSteps.5/@inputPort"/>
  <transitions name="19edbe61-6d38-426b-9c48-dc7a74cf4376" start="//@transformationSteps.4/@outputPort" finish="//@transformationSteps.5/@joineePort"/>
  <transitions name="f6315fac-59a8-4ece-928e-bd993147f3da" start="//@transformationSteps.5/@outputPort" finish="//@transformationSteps.6/@inputPort"/>
  <transitions name="aead6cbf-f4ad-4f04-9c3b-7ced95a2debc" start="//@transformationSteps.6/@outputPort" finish="//@targets.0/@inputPort"/>
  <auditInfo changeUser="admin" changeDateTime="2021-05-19T15:19:18.994+0000" createUser="admin" createDateTime="2021-05-19T15:05:39.219+0000"/>
</etl:Transformation>
